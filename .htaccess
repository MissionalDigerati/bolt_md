# Set the default handler.
DirectoryIndex index.php index.html index.htm

# Prevent directory listing
Options -Indexes

<FilesMatch "\.(yml|db|twig)$">
  <IfModule mod_authz_core.c>
    Require all denied
  </IfModule>
  <IfModule !mod_authz_core.c>
    Order deny,allow
    Deny from all
  </IfModule>
</FilesMatch>

# 301 redirects
Redirect 301 /projects/open-bible-stories http://www.missionaldigerati.org/project/video-translation-platform
Redirect 301 /projects/jp-mobile http://www.missionaldigerati.org/project/jp-mobile
Redirect 301 /projects/seven-nine-online http://www.missionaldigerati.org/project/seven-nine-online
Redirect 301 /submit-an-idea http://www.missionaldigerati.org/participate/submit-an-idea
Redirect 301 /contribute http://www.missionaldigerati.org/participate/donate
Redirect 301 /donate http://www.missionaldigerati.org/participate/donate

<IfModule mod_rewrite.c>
  RewriteEngine on

  RewriteRule cache/ - [F]

  # Some servers require the RewriteBase to be set. If so, set to the correct folder.
  # RewriteBase /

  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule ^thumbs/(.*)$ ./app/classes/timthumb.php [L]

  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteCond %{REQUEST_URI} !=/favicon.ico
  RewriteRule ^ ./index.php [L]

</IfModule>

